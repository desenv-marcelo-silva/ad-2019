(this["webpackJsonpad-2019"]=this["webpackJsonpad-2019"]||[]).push([[0],{10:function(e,t){e.exports={mongoURI:Object({NODE_ENV:"production",PUBLIC_URL:""}).DB_URI||"mongodb://localhost:27017/admin",mainURI:Object({NODE_ENV:"production",PUBLIC_URL:""}).MAIN_URI||"http://localhost:8080",mailDOMAIN:Object({NODE_ENV:"production",PUBLIC_URL:""}).MAIL_DOMAIN||Object({NODE_ENV:"production",PUBLIC_URL:""}).DEV_MAIL_DOMAIN,mailApiKEY:Object({NODE_ENV:"production",PUBLIC_URL:""}).MAIL_API_KEY||Object({NODE_ENV:"production",PUBLIC_URL:""}).DEV_MAIL_API_KEY}},20:function(e,t,a){e.exports=a(46)},25:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(9),r=a.n(o),l=(a(25),a(4)),c=a(5),m=a(8),u=a(6),s=a(1),d=a(7),h=a(3),g=a.n(h),b=a(10),v=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).sortearAmigoSecreto=a.sortearAmigoSecreto.bind(Object(s.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"sortearAmigoSecreto",value:function(){g.a.get("".concat(b.mainURI,"/sorteio")).then((function(e){if(e.erro)return alert("Houve algum problema. N\xe3o foi poss\xedvel realizar o sorteio."),!1;alert("O sorteio foi realizado com sucesso.")}))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("button",{onClick:this.sortearAmigoSecreto},"Realizar sorteio e enviar e-mail"))}}]),t}(n.Component),E=(a(43),a(44),a(45),a(10)),p=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).dadosInvalidos=function(){return!a.state.nome||!a.state.email||""===a.state.nome||""===a.state.email},a.cancelarEdicao=function(){return a.setState(a.baseState),a.props.atualizar(),!1},a.existeId=function(){return""!==a.state._id},a.state={_id:a.props._id,nome:a.props.nome,email:a.props.email},a.baseState=a.state,a.handleChange=a.handleChange.bind(Object(s.a)(a)),a.handleChangeMail=a.handleChangeMail.bind(Object(s.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(s.a)(a)),a.gravarAmigo=a.gravarAmigo.bind(Object(s.a)(a)),a.cancelarEdicao=a.cancelarEdicao.bind(Object(s.a)(a)),a.existeId=a.existeId.bind(Object(s.a)(a)),a.dadosInvalidos=a.dadosInvalidos.bind(Object(s.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.setState({nome:e.target.value})}},{key:"handleChangeMail",value:function(e){this.setState({email:e.target.value})}},{key:"handleSubmit",value:function(e){this.dadosInvalidos()||(this.gravarAmigo(),e.preventDefault())}},{key:"gravarAmigo",value:function(){var e=this,t={nome:this.state.nome,email:this.state.email};this.existeId()?g.a.patch("".concat(E.mainURI,"/amigo/").concat(this.state._id),t).then((function(t){var a=t.data;e.setState({_id:a._id,nome:a.nome,email:a.email})})):g.a.post("".concat(E.mainURI,"/amigo/"),t).then((function(t){var a=t.data;e.setState({_id:a._id,nome:a.nome,email:a.email})}))}},{key:"render",value:function(){return i.a.createElement("div",null,this.props.visivel&&i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",null,i.a.createElement("label",null,"Nome:",i.a.createElement("input",{type:"text",value:this.state.nome,onChange:this.handleChange}))),i.a.createElement("div",null,i.a.createElement("label",null,"e-mail:",i.a.createElement("input",{type:"email",value:this.state.email,onChange:this.handleChangeMail}))),i.a.createElement("div",null,i.a.createElement("input",{type:"submit",value:"Gravar"}),i.a.createElement("input",{type:"button",value:"Cancelar",onClick:this.cancelarEdicao}))))}}]),t}(n.Component),f=a(10),A=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).atualizarLista=function(){return a.setState({atualizar:!0})},a.removerAmigo=function(e){return a.state.amigoSet.filter((function(t){return t._id!==e}))},a.apagarAmigo=a.apagarAmigo.bind(Object(s.a)(a)),a.adicionarAmigo=a.adicionarAmigo.bind(Object(s.a)(a)),a.editarAmigo=a.editarAmigo.bind(Object(s.a)(a)),a.removerAmigo=a.removerAmigo.bind(Object(s.a)(a)),a.atualizarLista=a.atualizarLista.bind(Object(s.a)(a)),a.state={amigoSet:[],atualizar:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.a.get("".concat(f.mainURI,"/amigos")).then((function(t){var a=t.data;e.setState({amigoSet:a})}))}},{key:"apagarAmigo",value:function(e){var t=this;g.a.delete("".concat(f.mainURI,"/amigo/").concat(e)).then((function(a){var n=t.removerAmigo(e);t.setState({amigoSet:n})}))}},{key:"adicionarAmigo",value:function(){r.a.render(i.a.createElement(p,{_id:"",email:"",nome:"",visivel:!0,atualizar:this.atualizarLista}),document.getElementById("toFormAmigo"))}},{key:"editarAmigo",value:function(e){var t=this.state.amigoSet.find((function(t){return t._id==e}));r.a.render(i.a.createElement(p,{_id:e,email:t.email,nome:t.nome,visivel:!0,atualizar:this.atualizarLista}),document.getElementById("toFormAmigo"))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("div",{id:"toFormAmigo"}),i.a.createElement("div",{id:"toListAmigo"},i.a.createElement("div",null,i.a.createElement("button",{onClick:this.adicionarAmigo},"Adicionar")),this.state.amigoSet.length>0&&i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Nome"),i.a.createElement("th",null,"e-mail"),i.a.createElement("th",{colspan:"2"},"Op\xe7\xf5es"))),i.a.createElement("tbody",null,this.state.amigoSet.map((function(t){return i.a.createElement("tr",{key:t._id},i.a.createElement("td",null,t.nome),i.a.createElement("td",null,t.email),i.a.createElement("td",null,i.a.createElement("button",{onClick:e.editarAmigo.bind(e,t._id)},"Alterar")),i.a.createElement("td",null,i.a.createElement("button",{onClick:e.apagarAmigo.bind(e,t._id)},"Apagar")))}))))))}}]),t}(n.Component);var O=function(){return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("h2",null,"Amigo secreto"),i.a.createElement(v,null)),i.a.createElement("div",{className:"App-container"},i.a.createElement(A,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[20,1,2]]]);
//# sourceMappingURL=main.7c26726d.chunk.js.map